{
    "sourceFile": "App.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 9,
            "patches": [
                {
                    "date": 1655123818417,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1655123832108,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -103,10 +103,10 @@\n         placa = request.form['placa']\r\n         tarifa = request.form['tarifa']\r\n         select_ciudad_origen = request.form['select_ciudad_origen']\r\n         select_ciudad_destino = request.form['select_ciudad_destino']\r\n+    \r\n         \r\n-        \r\n         controladorViaje.agregarViaje(numero, fecha, silla, placa, tarifa, select_ciudad_origen, select_ciudad_destino)\r\n     return redirect(\"/listaViaje\")\r\n \r\n @app.route('/editarViaje/<int:numero>', methods=['GET', 'POST'])\r\n"
                },
                {
                    "date": 1655123845435,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -103,12 +103,10 @@\n         placa = request.form['placa']\r\n         tarifa = request.form['tarifa']\r\n         select_ciudad_origen = request.form['select_ciudad_origen']\r\n         select_ciudad_destino = request.form['select_ciudad_destino']\r\n-    \r\n-        \r\n         controladorViaje.agregarViaje(numero, fecha, silla, placa, tarifa, select_ciudad_origen, select_ciudad_destino)\r\n-    return redirect(\"/listaViaje\")\r\n+        return redirect(\"/listaViaje\")\r\n \r\n @app.route('/editarViaje/<int:numero>', methods=['GET', 'POST'])\r\n def editarViaje(numero):\r\n     if request.method == 'POST':\r\n"
                },
                {
                    "date": 1655123854227,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -105,8 +105,10 @@\n         select_ciudad_origen = request.form['select_ciudad_origen']\r\n         select_ciudad_destino = request.form['select_ciudad_destino']\r\n         controladorViaje.agregarViaje(numero, fecha, silla, placa, tarifa, select_ciudad_origen, select_ciudad_destino)\r\n         return redirect(\"/listaViaje\")\r\n+    elif request.method == 'GET':\r\n+        \r\n \r\n @app.route('/editarViaje/<int:numero>', methods=['GET', 'POST'])\r\n def editarViaje(numero):\r\n     if request.method == 'POST':\r\n"
                },
                {
                    "date": 1655123859865,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -106,9 +106,9 @@\n         select_ciudad_destino = request.form['select_ciudad_destino']\r\n         controladorViaje.agregarViaje(numero, fecha, silla, placa, tarifa, select_ciudad_origen, select_ciudad_destino)\r\n         return redirect(\"/listaViaje\")\r\n     elif request.method == 'GET':\r\n-        \r\n+        persona\r\n \r\n @app.route('/editarViaje/<int:numero>', methods=['GET', 'POST'])\r\n def editarViaje(numero):\r\n     if request.method == 'POST':\r\n"
                },
                {
                    "date": 1655123866936,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -106,9 +106,9 @@\n         select_ciudad_destino = request.form['select_ciudad_destino']\r\n         controladorViaje.agregarViaje(numero, fecha, silla, placa, tarifa, select_ciudad_origen, select_ciudad_destino)\r\n         return redirect(\"/listaViaje\")\r\n     elif request.method == 'GET':\r\n-        persona\r\n+        persona = \r\n \r\n @app.route('/editarViaje/<int:numero>', methods=['GET', 'POST'])\r\n def editarViaje(numero):\r\n     if request.method == 'POST':\r\n"
                },
                {
                    "date": 1655123873586,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -106,9 +106,9 @@\n         select_ciudad_destino = request.form['select_ciudad_destino']\r\n         controladorViaje.agregarViaje(numero, fecha, silla, placa, tarifa, select_ciudad_origen, select_ciudad_destino)\r\n         return redirect(\"/listaViaje\")\r\n     elif request.method == 'GET':\r\n-        persona = \r\n+        persona = con\r\n \r\n @app.route('/editarViaje/<int:numero>', methods=['GET', 'POST'])\r\n def editarViaje(numero):\r\n     if request.method == 'POST':\r\n"
                },
                {
                    "date": 1655123884249,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -106,9 +106,9 @@\n         select_ciudad_destino = request.form['select_ciudad_destino']\r\n         controladorViaje.agregarViaje(numero, fecha, silla, placa, tarifa, select_ciudad_origen, select_ciudad_destino)\r\n         return redirect(\"/listaViaje\")\r\n     elif request.method == 'GET':\r\n-        persona = con\r\n+        persona = controladorBoleto.consultarPersonaId\r\n \r\n @app.route('/editarViaje/<int:numero>', methods=['GET', 'POST'])\r\n def editarViaje(numero):\r\n     if request.method == 'POST':\r\n"
                },
                {
                    "date": 1655123920626,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -124,9 +124,9 @@\n         return redirect(\"/listaViaje\")\r\n     elif request.method == 'GET':\r\n         ciudad = controladorViaje.consultarCiudadId()\r\n         viaje = controladorViaje.consultarViajeNum(numero)\r\n-        \r\n+        return render_template(\"crudViaje/editar.html\", viajes = viaje, ciudad = ciudad)\r\n \r\n @app.route('/eliminarViaje/<int:numero>')\r\n def eliminarViaje(numero):\r\n     controladorViaje.eliminarViaje(numero)\r\n"
                },
                {
                    "date": 1655126479599,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,9 +64,9 @@\n     boleto = controladorBoleto.consultarBoleto()\r\n     return render_template(\"boleto.html\", boletos = boleto)\r\n @app.route('/agregarBoleto')\r\n def agregaBoleto():\r\n-    persona = controladorBoleto.consultarId()\r\n+    persona = controladorBoleto.consultarPId()\r\n     return render_template(\"crudBoleto/agregar.html\", persona = persona)\r\n \r\n @app.route('/frmAgregarBoleto',  methods=['POST'])\r\n def agregarBoleto():\r\n"
                }
            ],
            "date": 1655123818417,
            "name": "Commit-0",
            "content": "from flask import Flask, redirect, render_template, request\r\nimport controladorPersona, controladorBoleto, controladorViaje\r\n\r\napp = Flask(__name__)\r\n\r\n@app.route('/')\r\ndef index():\r\n    return render_template(\"index.html\")\r\n\r\n@app.route('/paga')\r\ndef paga():\r\n    return render_template(\"paga.html\")\r\n\r\n# ? RUTAS CRUD PERSONAS\r\n@app.route('/listaPersona')\r\ndef listaPersona():\r\n    persona = controladorPersona.consultarPersona()\r\n    return render_template(\"persona.html\", personas = persona)\r\n\r\n@app.route('/agregarPersona')\r\ndef agregaPersona():\r\n    return render_template(\"crudPersona/agregar.html\")\r\n\r\n@app.route('/frmAgregarPersona', methods=['POST'])\r\ndef agregarPersona():\r\n    if request.method == 'POST':\r\n        tipo_doc = request.form['select_doc']\r\n        identificacion = request.form['identificacion']\r\n        txtNombre = request.form['nombre']\r\n        txtApellido = request.form['apellido']\r\n        txtEmail = request.form['email']\r\n        txtTelefono = request.form['telefono']\r\n        tipo_pers = request.form['select_per']\r\n        \r\n        controladorPersona.agregarPersona(tipo_doc, identificacion, txtNombre, txtApellido, txtEmail, txtTelefono, tipo_pers)\r\n    return redirect(\"/listaPersona\")\r\n\r\n@app.route('/editarPersona/<int:identificacion>', methods=['GET', 'POST'])\r\ndef editarPersona(identificacion):\r\n    if request.method == 'POST':\r\n        tipo_doc = request.form['select_doc']\r\n        txtNombre = request.form['nombre']\r\n        txtApellido = request.form['apellido']\r\n        txtEmail = request.form['email']\r\n        txtTelefono = request.form['telefono']\r\n        tipo_pers = request.form['select_per']\r\n\r\n        controladorPersona.actualizarPersona(tipo_doc, txtNombre, txtApellido, txtEmail, txtTelefono, tipo_pers, identificacion)\r\n        return redirect(\"/listaPersona\")\r\n    elif request.method == 'GET':\r\n        tipo_persona = controladorPersona.consultarPersonaTipoPer()\r\n        tipo_documento = controladorPersona.consultarPersonaTipoDoc()\r\n        persona = controladorPersona.consultarPersonaId(identificacion)\r\n        return render_template(\"crudPersona/editar.html\", personas = persona, tipo_persona = tipo_persona, tipo_documento = tipo_documento)\r\n        \r\n@app.route('/eliminarPersona/<int:identificacion>')\r\ndef eliminarPersona(identificacion):\r\n    controladorPersona.eliminarPersona(identificacion)\r\n    return redirect('/listaPersona')\r\n\r\n# ? RUTAS CRUD BOLETOS\r\n@app.route('/listaBoleto')\r\ndef listaBoletos():\r\n    boleto = controladorBoleto.consultarBoleto()\r\n    return render_template(\"boleto.html\", boletos = boleto)\r\n\r\n@app.route('/agregarBoleto')\r\ndef agregaBoleto():\r\n    return render_template(\"crudBoleto/agregar.html\")\r\n\r\n@app.route('/frmAgregarBoleto', methods=['POST'])\r\ndef agregarBoleto():\r\n    if request.method == 'POST':\r\n        id = request.form['id']\r\n        select_pasajero = request.form['select_pasajero']\r\n        select_conductor = request.form['select_conductor']\r\n        select_viaje = request.form['select_viaje']\r\n        \r\n        controladorBoleto.agregarBoleto(id, select_pasajero, select_conductor, select_viaje)\r\n    return redirect(\"/listaBoleto\")\r\n\r\n@app.route('/eliminarBoleto/<int:id>')\r\ndef eliminarBoleto(id):\r\n    controladorBoleto.eliminarBoleto(id)\r\n    return redirect('/listaBoleto')\r\n\r\n# ? RUTAS CRUD VIAJES\r\n@app.route('/listaViaje')\r\ndef listaViaje():\r\n    viaje = controladorViaje.consultarViaje()\r\n    return render_template(\"viaje.html\", viajes = viaje)\r\n\r\n@app.route('/agregarViaje')\r\ndef agregaViaje():\r\n    return render_template(\"crudViaje/agregar.html\")\r\n\r\n@app.route('/frmAgregarViaje', methods=['POST'])\r\ndef agregarViaje():\r\n    if request.method == 'POST':\r\n        numero = request.form['numero']\r\n        fecha = request.form['fecha']\r\n        silla = request.form['silla']\r\n        placa = request.form['placa']\r\n        tarifa = request.form['tarifa']\r\n        select_ciudad_origen = request.form['select_ciudad_origen']\r\n        select_ciudad_destino = request.form['select_ciudad_destino']\r\n        \r\n        \r\n        controladorViaje.agregarViaje(numero, fecha, silla, placa, tarifa, select_ciudad_origen, select_ciudad_destino)\r\n    return redirect(\"/listaViaje\")\r\n\r\n@app.route('/editarViaje/<int:numero>', methods=['GET', 'POST'])\r\ndef editarViaje(numero):\r\n    if request.method == 'POST':\r\n        numero = request.form['numero']\r\n        fecha = request.form['fecha']\r\n        silla = request.form['silla']\r\n        placa = request.form['placa']\r\n        tarifa = request.form['tarifa']\r\n        select_ciudad_origen = request.form['select_ciudad_origen']\r\n        select_ciudad_destino = request.form['select_ciudad_destino']\r\n        \r\n        controladorViaje.actualizarViaje(numero, fecha, silla, placa, tarifa, select_ciudad_origen, select_ciudad_destino)\r\n        return redirect(\"/listaViaje\")\r\n    elif request.method == 'GET':\r\n        ciudad = controladorViaje.consultarCiudadId()\r\n        viaje = controladorViaje.consultarViajeNum(numero)\r\n        return render_template(\"crudViaje/editar.html\", viajes = viaje, ciudad = ciudad)\r\n\r\n@app.route('/eliminarViaje/<int:numero>')\r\ndef eliminarViaje(numero):\r\n    controladorViaje.eliminarViaje(numero)\r\n    return redirect('/listaViaje')\r\n\r\nif __name__ == '__main__':\r\n    app.run(debug=True)"
        }
    ]
}